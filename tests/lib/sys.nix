# ============================================================================ #
#
#
#
# ---------------------------------------------------------------------------- #

{ lib ? import ../../lib {} }: let

# ---------------------------------------------------------------------------- #

  cfgStar = {
    sysInfo.cpu = ["*"];
    sysInfo.os  = ["*"];
  };



# ---------------------------------------------------------------------------- #

in lib.runTests {

# ---------------------------------------------------------------------------- #

  testSystemSupportFor0 = {
    expr = lib.libfloco.checkSystemSupportFor cfgStar {
      system = "x86_64-linux";
    };
    expected = true;
  };


# ---------------------------------------------------------------------------- #

  testSystemSupportFor1 = {
    expr = lib.libfloco.checkSystemSupportFor {
      sysInfo.cpu = ["!x86_64"];
      sysInfo.os  = ["linux"];
    } {
      system = "x86_64-linux";
    };
    expected = false;
  };


# ---------------------------------------------------------------------------- #

  # FIXME
  #testSystemSupportFor2 = {
  #  expr = lib.libfloco.checkSystemSupportFor {
  #    sysInfo.cpu = ["!x86_64"];
  #    sysInfo.os  = ["linux"];
  #  } {
  #    system = "aarch-linux";
  #  };
  #  expected = true;
  #};


# ---------------------------------------------------------------------------- #

}


# ---------------------------------------------------------------------------- #
#
#
#
# ============================================================================ #
